module.exports.config = {
  name: "rules",
  version: "1.0.1",
  hasPermssion: 0,
  credits: "Islamic Cyber",
  description: "Important notes and group rules",
  commandCategory: "information",
  cooldowns: 5,
  dependencies: {
    "request": "",
    "fs-extra": ""
  }
};

module.exports.run = async ({ api, event }) => {
  const request = global.nodemodule.request;
  const fs = global.nodemodule["fs-extra"];

  const imageURL = "https://i.imgur.com/NuQMY5X.jpeg";
  const imagePath = __dirname + "/cache/rules.jpg";

  const messageBody = `â‹†âœ¦â‹†â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â‹†âœ¦â‹†
â€¢â€”Â»âœ¨ à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® ğŸ–¤ğŸ’«

â€¢â€”Â»âœ¨ à¦à¦Ÿà¦¿ à¦à¦•à¦Ÿà¦¿ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦—à§à¦°à§à¦ª à¦à¦¬à¦‚ à¦†à¦®à¦¿ à¦à¦•à¦Ÿà¦¿ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦°à§‹à¦¬à§‹à¦Ÿ ğŸ¤–ğŸ•‹
à¦à¦‡ à¦‡à¦¸à¦²à¦¾à¦®à¦¿à¦• à¦—à§à¦°à§à¦ªà§‡à¦° à¦•à¦¿à¦›à§ à¦¨à¦¿à§Ÿà¦® à¦•à¦¾à¦¨à§à¦¨ à¦¨à¦¿à¦šà§‡ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¹à¦²à§‹:

â‹†âœ¦â‹†â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â‹†âœ¦â‹†

ğŸ•‹ [à§§] à¦–à¦¾à¦°à¦¾à¦ª à¦­à¦¾à¦·à¦¾ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾  
ğŸ•‹ [à§¨] à¦…à¦¶à§à¦²à§€à¦² à¦•à¦¨à§à¦Ÿà§‡à¦¨à§à¦Ÿ à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§  
ğŸ•‹ [à§©] à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦¸à¦®à§à¦®à¦¾à¦¨ à¦•à¦°à§à¦¨  
ğŸ•‹ [à§ª] à¦•à¦¾à¦‰à¦•à§‡ à¦›à§‹à¦Ÿ à¦•à¦°à§‡ à¦•à¦¥à¦¾ à¦¬à¦²à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾  
ğŸ•‹ [à§«] à¦‡à¦¸à¦²à¦¾à¦®à§‡à¦° à¦¬à¦¾à¦‡à¦°à§‡ à¦¬à¦¿à¦¤à¦°à§à¦• à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾  
ğŸ•‹ [à§¬] à¦à¦¡à¦®à¦¿à¦¨à¦•à§‡ à¦¸à¦®à§à¦®à¦¾à¦¨ à¦•à¦°à§à¦¨  
ğŸ•‹ [à§­] à¦¬à¦Ÿ à¦¸à¦®à¦¸à§à¦¯à¦¾ à¦¹à¦²à§‡ à¦à¦¡à¦®à¦¿à¦¨à§‡ à¦‡à¦¨à¦¬à¦•à§à¦¸ à¦•à¦°à§à¦¨  
ğŸ•‹ [à§®] à¦à¦—à§œà¦¾ à¦¸à¦®à§à¦ªà§‚à¦°à§à¦£ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§  
ğŸ•‹ [à§¯] à¦…à¦¨à§à¦¯ à¦¬à¦Ÿ à¦…à§à¦¯à¦¾à¦¡ à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾  
ğŸ•‹ [à§§à§¦] à§§à§®+ à¦†à¦²à§‹à¦šà¦¨à¦¾ à¦•à¦°à¦²à§‡ à¦°à¦¿à¦®à§à¦­ à¦•à¦°à¦¾ à¦¹à¦¬à§‡  
ğŸ•‹ [à§§à§§] à¦•à¦¾à¦°à§‹ à¦§à¦°à§à¦® à¦¨à¦¿à§Ÿà§‡ à¦¬à¦¿à¦¦à§à¦°à§à¦ª à¦¨à§Ÿ  
ğŸ•‹ [à§§à§¨] à¦¸à§à¦ªà§à¦¯à¦¾à¦® à¦‡à¦®à§‹à¦œà¦¿ à¦ªà¦¾à¦ à¦¾à¦¬à§‡à¦¨ à¦¨à¦¾  
ğŸ•‹ [à§§à§©] à¦…à¦¨à§à¦®à¦¤à¦¿ à¦›à¦¾à§œà¦¾ à¦—à§à¦°à§à¦ª à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦¨à§Ÿ  
ğŸ•‹ [à§§à§ª] à¦¸à§à¦ªà§à¦¯à¦¾à¦® à¦®à§‡à¦¸à§‡à¦œ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§  
ğŸ•‹ [à§§à§«] à¦«à¦¿à¦¶à¦¿à¦‚ à¦¬à¦¾ à¦•à§à¦·à¦¤à¦¿à¦•à¦° à¦²à¦¿à¦‚à¦• à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§  

â‹†âœ¦â‹†â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â‹†âœ¦â‹†

â¤ï¸ à¦ªà§à¦°à¦¿à§Ÿ à¦®à§à¦¸à¦²à¦¿à¦® à¦­à¦¾à¦‡/à¦¬à§‹à¦¨, à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦¸à¦¨à§à¦¤à§à¦·à§à¦Ÿà¦¿à¦° à¦œà¦¨à§à¦¯ à¦¨à¦¿à§Ÿà¦®à¦—à§à¦²à§‹ à¦®à§‡à¦¨à§‡ à¦šà¦²à§à¦¨à¥¤

à§« à¦“à§Ÿà¦¾à¦•à§à¦¤ à¦¨à¦¾à¦®à¦¾à¦œ à¦ªà§œà§à¦¨ ğŸ¤²  
à¦†à¦²à§à¦²à¦¾à¦¹ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦¹à§‡à¦«à¦¾à¦œà¦¤ à¦•à¦°à§à¦¨à¥¤

â‹†âœ¦â‹†â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â‹†âœ¦â‹†`;

  request(encodeURI(imageURL))
    .pipe(fs.createWriteStream(imagePath))
    .on("close", () => {
      api.sendMessage(
        {
          body: messageBody,
          attachment: fs.createReadStream(imagePath)
        },
        event.threadID,
        () => fs.unlinkSync(imagePath),
        event.messageID
      );
    })
    .on("error", () => {
      api.sendMessage(messageBody, event.threadID, event.messageID);
    });
};